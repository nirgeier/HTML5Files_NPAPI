<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7]>
<html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8]>
<html class="no-js ie8" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Nir Geier - HTML5 File API</title>

    <meta name="description" content="HTML5 File API Lecture by Nir Geier">
    <meta name="author" content="Nir Geier">
    <meta name="viewport" content="width=1024, user-scalable=no">

    <link rel="stylesheet" href="style/syntaxHighlighter.css" type="text/css"/>

    <!-- Core and extension CSS files -->
    <link rel="stylesheet" href="style/custom.css">
    <link rel="stylesheet" href="deck/core/deck.core.css">
    <link rel="stylesheet" href="deck/extensions/goto/deck.goto.css">
    <link rel="stylesheet" href="deck/extensions/menu/deck.menu.css">
    <link rel="stylesheet" href="deck/extensions/navigation/deck.navigation.css">
    <link rel="stylesheet" href="deck/extensions/status/deck.status.css">
    <link rel="stylesheet" href="deck/extensions/hash/deck.hash.css">

    <!-- Theme CSS files (menu swaps these out) -->
    <link rel="stylesheet" id="style-theme-link" href="style/neon.css">
    <link rel="stylesheet" id="transition-theme-link" href="style/fade.css">

    <script src="js/modernizr.custom.js"></script>
</head>

<body class="deck-container">

<section class="slide" id="title-slide">
    <h1>Files ... </h1>
</section>

<section class="slide" id="contact">
    <div class="path">Contact details</div>
    <h2>Lecture</h2>
    <a href="https://github.com/nirgeier/HTML5Files_NPAPI">https://github.com/nirgeier/HTML5Files_NPAPI</a>

    <h2>Twitter</h2>
    <a href="http://twitter.com/nirgeier">@nirgeier</a>

    <h2>Email</h2>
    nirgeier@gmail.com
</section>


<section class="slide">
    <div class="path">Agenda</div>
    <h2>Today - A short preview of files api</h2>
    <ol>
        <li class="slide">
            <h3>File API (Read)</h3>

            <p>Introduction to HTML5 file API </p>
        </li>
        <li class="slide">
            <h3>FileSystem API (Read/Write)</h3>

            <p>Introduction to HTML5 fileSystem API </p>
        </li>
        <li class="slide">
            <h3>NPAPI (Steal files ... )</h3>

            <p>[not part of W3C ] <br/>Full Access to any file on the client HD</p>
        </li>
    </ol>
</section>

<section class="slide">
    <div class="path">File API &raquo; Features</div>
    <h2>File API features</h2>
    <h6>* File System API extends this API (Write &rarr; FileWriter)</h6>
    <br/>
    <ul>
        <li class="slide">
            <mark>Import</mark>
            from the filesystem or the web.
        </li>
        <li class="slide">
            <mark>Create</mark>
            new files from scratch.
        </li>
        <li class="slide">
            <mark>Manipulate</mark>
            existing file data.
        </li>
        <li class="slide">
            <mark>Store</mark>
            file data on the client.
        </li>
        <li class="slide">
            <mark>Publish</mark>
            files back to the web.
        </li>
    </ul>
</section>
<section class="slide">
    <div class="path">File API &raquo; Objects</div>
    <h2>File API Objects</h2>

    <h6> The File API spec provides a standard way to interact with local files.</h6>
    <br/>

    <p>API Objects:</p>
    <ul>
        <li class="slide">
            <mark>File</mark>
            Provides readonly information and a reference to the file handle.
        </li>
        <li class="slide">
            <mark>FileList</mark>
            An array-like sequence of File objects.
        </li>
        <li class="slide">
            <mark>FileReader</mark>
            Read file contents into memory (asynchronously)
        </li>
        <li class="slide">
            <mark>Blob</mark>
            Allows for slicing a file into byte ranges.
        </li>
        <li class="slide">
            <mark>Drag/Drop</mark>
            Build in support for files Drag And Drop
        </li>
    </ul>

</section>

<section class="slide">
    <div class="path">File API &raquo; Objects</div>
    <h2>File API - Flow</h2>

    <ul>
        <li class="slide">
            After you've obtained a
            <mark class="inline">File</mark>
            reference, instantiate a
            <mark class="inline">FileReader</mark>
            object inorder to work with the file.
        </li>
        <li class="slide">
            The
            <mark class="inline">FileReader</mark>
            used to
            <mark class="inline">asynchronously</mark>
            read the file content (into memory) using JavaScript event handling.
        </li>
        <li class="slide">
            It is possible to monitor the<br/>
            <mark class="inline">progress</mark>
            of a read ,
            <mark class="inline">catch errors</mark>
            ,
            and determine when a load is
            <mark class="inline">complete.</mark>
            <br/>
            In many ways the APIs resemble XMLHttpRequest's event model.
        </li>

    </ul>
</section>

<section class="slide">
    <div class="path">File API &raquo; Objects</div>
    <h2>File API - FileReader (Methods)</h2>

    <p>FileReader includes four options for reading a file, asynchronously:</p>
    <ul>
        <li class="slide">
            <mark>FileReader.readAsBinaryString(Blob|File)</mark>
            <br/>
            Result = the file/blob's data as a binary string (bytes 0-255).
        </li>
        <li class="slide">
            <mark>FileReader.readAsText(Blob|File,&nbsp;opt_encoding)</mark>
            <br/>
            Result = the file/blob's data as a text string. (Default encoding is UTF-8)
        </li>
        <li class="slide">
            <mark>FileReader.readAsDataURL(Blob|File)</mark>
            <br/>
            Result = the file/blob's data encoded as a data URL.
        </li>
        <li class="slide">
            <mark>FileReader.readAsArrayBuffer(Blob|File)</mark>
            <br/>
            Result = the file/blob's data as an ArrayBuffer object.
        </li>
    </ul>

</section>
<section class="slide">
    <div class="path">File API &raquo; Objects</div>
    <h2>File API - FileReader (Events)</h2>
    <ul>
        <li class="slide">onloadstart</li>
        <li class="slide">onprogress</li>
        <li class="slide">onload</li>
        <li class="slide">onloadend <br><br></li>
        <li class="slide">onabort</li>
        <li class="slide">onerror</li>

    </ul>
</section>

<section class="slide">
    <div class="path">File API &raquo; Code</div>
    <h2>File API - Code</h2>

    <p>&lt;input type=&quot;file&quot; id=&quot;...&quot; name=&quot;...&quot; multiple webkitdirectory/&gt;</p>
    <br/>
    <pre class="brush: javascript; highlight: [2,7]">
        // Add the event listener to the input type="file"
        document.querySelector('#id').addEventListener('change',
            function(e){
                var i, files;

                // FileList object. list of the selected files
                files = e.target.files;

                // Extract the information we can from the files/folder
                for (i = 0, f; f = files[i]; i++) {
                    // f.name
                    // f.type
                    // f.size
                    // f.lastModifiedDate.toLocaleDateString()
                }
                ...
            }, false);
    </pre>
</section>

<section class="slide">
    <div class="path">File API &raquo; Code</div>
    <h2>File API - Demos</h2>

    <ul>
        <li class="slide">
            <a href="demos/01-InputFile.html" target="_blank">Simple</a>
        </li>
        <li class="slide">
            <a href="demos/02-InputFileD&D.html" target="_blank">Drag & Drop</a><br/>
        </li>
        <li class="slide">
            <a href="demos/03-CopyPaste.html" target="_blank">Copy & Paste</a>
        </li>
        <li class="slide">
            <a href="demos/04-Slice.html" target="_blank">Read part of file</a>
        </li>
    </ul>
</section>


<p class="deck-status">
    <span class="deck-status-current"></span>
    /
    <span class="deck-status-total"></span>
</p>

<footer>
    <img src="images/bug.png" id="footerBug">

    <div class="name">Nir Geier</div>
    <div> - HTML5 File API / File System API / NPAPI</div>
</footer>

<script src="js/jquery-1.7.min.js"></script>

<!-- Deck Core and extensions -->
<script src="deck/core/deck.core.js"></script>
<script src="deck/extensions/hash/deck.hash.js"></script>
<script src="deck/extensions/menu/deck.menu.js"></script>
<script src="deck/extensions/goto/deck.goto.js"></script>
<script src="deck/extensions/status/deck.status.js"></script>
<script src="deck/extensions/navigation/deck.navigation.js"></script>
<script src="js/syntaxHighlighter.js"></script>

<!-- Specific to this page -->
<script>
    $(function() {
        // Deck initialization
        $.deck('.slide');
        SyntaxHighlighter.all();
    });
</script>
</body>
</html>
